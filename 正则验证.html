<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>正则验证</title>
	<style>
		.red {
			border: 1px solid red !important;
		}
	</style>
</head>
<body>
	<span>姓名&nbsp;</span>
	<input type="text" name="" placeholder="输入姓名" id="name"><br><br>
	<span>邮箱&nbsp;</span>
	<input type="text" name="" placeholder="输入邮箱" id="email"><br><br>
	<span>手机号 </span>
	<input type="text" name="" placeholder="输入手机号" id="mobile"><br><br>

	<br><br>
	<button type="button" id="submit">提交</button>
	<script src="./js/jquery-1.8.3/jquery.min.js"></script>
	<script>
		$(function() {
			let name = $('#name');
			let email = $('#email');
			let mobile = $('#mobile');
			let submit = $('#submit');
			let spaceReg = /\s+/;
			let nameReg = /^[a-zA-Z\u4e00-\u9fa5]+$/;
			let emailReg = /^[0-9a-zA-Z_.-]+[@][0-9a-zA-Z_.-]+([.][a-zA-Z]+){1,2}$/;
			let mobileReg = /^1(3|4|5|7|8)\d{9}$/;
			let nameFlag = false;
			let emailFlag = false;
			let mobileFlag = false;
			name.blur( ()=> {
        if(spaceReg.test(name.val())) {
        	let nameVal = name.val().replace(/\s+/g, "");
          name.val(nameVal);
				} 
				if(!name.val()) {
					alert('姓名不能为空');
					nameFlag = true;
					name.addClass('red');
					return;
				}

				if(!nameReg.test(name.val())) {
					alert('姓名输入有误');
					nameFlag = true;
					name.addClass('red');

					return;
				}
				nameFlag = false;
				name.removeClass('red');

					
			});

			email.blur( ()=> {
        if(spaceReg.test(email.val())) {
        	let emailVal = email.val().replace(/\s+/g, "");
          email.val(emailVal);
				} 
				if(!email.val()) {
					alert('邮箱不能为空');
					emailFlag = true;
					email.addClass('red');
					return;
				}

				if(!emailReg.test(email.val())) {
					alert('邮箱输入有误');
					emailFlag = true;
					email.addClass('red');
					return;
				}
				emailFlag = false;
				email.removeClass('red');
			});

			mobile.blur( ()=> {
        if(spaceReg.test(mobile.val())) {
        	let mobileVal = mobile.val().replace(/\s+/g, "");
          mobile.val(mobileVal);
				} 
				if(!mobile.val()) {
					alert('电话不能为空');
					mobileFlag = true;
					mobile.addClass('red');
					return;
				}

				if(!mobileReg.test(mobile.val())) {
					alert('电话输入有误');
					mobileFlag = true;
					mobile.addClass('red');
					return;
				}
				mobileFlag = false;
				mobile.removeClass('red');
			});

			name.focus( () => {
				name.removeClass('red');
			});
			email.focus( () => {
				email.removeClass('red');
			});
			mobile.focus( () => {
				mobile.removeClass('red');
			});

			submit.click( () => {
				console.log(name.val());
				if(spaceReg.test(name.val()) || !name.val()) {
					nameFlag = true;
					name.addClass('red');
					// return;
				}
				if(spaceReg.test(email.val()) || !email.val()) {
					emailFlag = true;
					email.addClass('red');
					// return;
				}
				if(spaceReg.test(mobile.val()) || !mobile.val()) {
					mobileFlag = true;
					mobile.addClass('red');
					// return;
				}
				if(nameFlag || emailFlag || mobileFlag) return;
			});
		});
	</script>
</body>
</html>